define ("local_evokegame/deletebadge",["jquery","core/ajax","core/str","local_evokegame/sweetalert"],function(a,b,c,d){var e={CONFIRM_TITLE:"Are you sure?",CONFIRM_MSG:"Once deleted, the item cannot be recovered!",CONFIRM_YES:"Yes, delete it!",CONFIRM_NO:"Cancel",SUCCESS:"Chapter successfully deleted."},f=[{key:"deleteitem_confirm_title",component:"local_evokegame"},{key:"deleteitem_confirm_msg",component:"local_evokegame"},{key:"deleteitem_confirm_yes",component:"local_evokegame"},{key:"deleteitem_confirm_no",component:"local_evokegame"},{key:"deletebadge_success",component:"local_evokegame"}],g=function(){this.getStrings();this.registerEventListeners()};g.prototype.getStrings=function(){var b=c.get_strings(f);a.when(b).done(function(a){e.CONFIRM_TITLE=a[0];e.CONFIRM_MSG=a[1];e.CONFIRM_YES=a[2];e.CONFIRM_NO=a[3];e.SUCCESS=a[4]})};g.prototype.registerEventListeners=function(){a("body").on("click",".delete-evokegame-badge",function(b){b.preventDefault();var c=a(b.currentTarget);d.fire({title:e.CONFIRM_TITLE,text:e.CONFIRM_MSG,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:e.CONFIRM_YES,cancelButtonText:e.CONFIRM_NO}).then(function(a){if(a.value){this.deleteItemRow(c)}}.bind(this))}.bind(this))};g.prototype.deleteItemRow=function(a){var c=b.call([{methodname:"local_evokegame_deletebadge",args:{badge:{id:a.data("id")}}}]);c[0].done(function(){this.removeChapterLine(a)}.bind(this)).fail(function(a){var b=a.message;if(!b){b=a.error}this.showToast("error",b)}.bind(this))};g.prototype.removeChapterLine=function(b){var c=b.closest("tr");c.fadeOut("normal",function(){a(this).remove()});this.showToast("success",e.SUCCESS)};g.prototype.showToast=function(a,b){var c=d.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:8e3,timerProgressBar:!0,onOpen:function onOpen(a){a.addEventListener("mouseenter",d.stopTimer);a.addEventListener("mouseleave",d.resumeTimer)}});c.fire({icon:a,title:b})};return{init:function init(){return new g}}});
//# sourceMappingURL=deletebadge.min.js.map

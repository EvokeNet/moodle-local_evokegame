{"version":3,"file":"modal_notificationbadge.min.js","sources":["../src/modal_notificationbadge.js"],"sourcesContent":["/**\n * Custom notification modal js logic.\n *\n * @copyright  2021 World Bank Group <https://worldbank.org>\n * @author     Willian Mano <willianmanoaraujo@gmail.com>\n */\n\ndefine([\n    'jquery',\n    'core/notification',\n    'core/custom_interaction_events',\n    'core/templates',\n    'core/pending',\n    'core/modal',\n    'core/modal_registry'\n],\n    function($, Notification, CustomEvents, Templates, Pending, Modal, ModalRegistry) {\n\n        var registered = false;\n\n        /**\n         * ModalNotificationBadge class.\n         *\n         * @class\n         * @extends Modal\n         */\n        class ModalNotificationBadge extends Modal {\n            /**\n             * Constructor for the Modal.\n             *\n             * @param {HTMLElement} root The root HTMLElement for the modal\n             */\n            constructor(root) {\n                super(root);\n            }\n\n            /**\n             * Set up all of the event handling for the modal.\n             *\n             * @method registerEventListeners\n             */\n            registerEventListeners() {\n                // Apply parent event listeners.\n                super.registerEventListeners();\n            }\n        }\n\n        ModalNotificationBadge.TYPE = 'local_evokegame-modal_notificationbadge';\n        ModalNotificationBadge.TEMPLATE = 'local_evokegame/modal_notificationbadge';\n\n        /**\n         * Create a new modal using the supplied configuration.\n         *\n         * @param {object} modalConfig The configuration to create the modal instance\n         * @returns {Promise} Resolved with a ModalNotificationBadge instance\n         */\n        ModalNotificationBadge.create = function(modalConfig) {\n            var pendingModalPromise = new Pending('local_evokegame/modal_notificationbadge:create');\n            modalConfig = modalConfig || {};\n            modalConfig.type = ModalNotificationBadge.TYPE;\n\n            var templateName = modalConfig.template || ModalNotificationBadge.TEMPLATE;\n            var templateContext = modalConfig.templateContext || {};\n\n            return Templates.renderForPromise(templateName, templateContext)\n                .then(function(rendered) {\n                    var html = rendered.html;\n                    var js = rendered.js;\n\n                    var modal = new ModalNotificationBadge(html);\n                    if (js) {\n                        modal.setTemplateJS(js);\n                    }\n\n                    // Configure the modal (this will handle show if configured)\n                    modal.configure(modalConfig);\n\n                    pendingModalPromise.resolve();\n\n                    return modal;\n                })\n                .catch(function(error) {\n                    pendingModalPromise.resolve();\n                    Notification.exception(error);\n                    throw error;\n                });\n        };\n\n        // Automatically register with the modal registry the first time this module is imported so that you can create modals\n        // of this type using the modal factory.\n        if (!registered) {\n            ModalRegistry.register(ModalNotificationBadge.TYPE, ModalNotificationBadge, 'local_evokegame/modal_notificationbadge');\n\n            registered = true;\n        }\n\n        return ModalNotificationBadge;\n});"],"names":["define","$","Notification","CustomEvents","Templates","Pending","Modal","ModalRegistry","registered","ModalNotificationBadge","constructor","root","registerEventListeners","TYPE","TEMPLATE","create","modalConfig","pendingModalPromise","type","templateName","template","templateContext","renderForPromise","then","rendered","html","js","modal","setTemplateJS","configure","resolve","catch","error","exception","register"],"mappings":"AAOAA,iDAAO,CACH,SACA,oBACA,iCACA,iBACA,eACA,aACA,wBAEA,SAASC,EAAGC,aAAcC,aAAcC,UAAWC,QAASC,MAAOC,mBAE3DC,YAAa,QAQXC,+BAA+BH,MAMjCI,YAAYC,YACFA,MAQVC,+BAEUA,iCAIdH,uBAAuBI,KAAO,0CAC9BJ,uBAAuBK,SAAW,0CAQlCL,uBAAuBM,OAAS,SAASC,iBACjCC,oBAAsB,IAAIZ,QAAQ,mDACtCW,YAAcA,aAAe,IACjBE,KAAOT,uBAAuBI,SAEtCM,aAAeH,YAAYI,UAAYX,uBAAuBK,SAC9DO,gBAAkBL,YAAYK,iBAAmB,UAE9CjB,UAAUkB,iBAAiBH,aAAcE,iBAC3CE,MAAK,SAASC,cACPC,KAAOD,SAASC,KAChBC,GAAKF,SAASE,GAEdC,MAAQ,IAAIlB,uBAAuBgB,aACnCC,IACAC,MAAMC,cAAcF,IAIxBC,MAAME,UAAUb,aAEhBC,oBAAoBa,UAEbH,SAEVI,OAAM,SAASC,aACZf,oBAAoBa,UACpB5B,aAAa+B,UAAUD,OACjBA,UAMbxB,aACDD,cAAc2B,SAASzB,uBAAuBI,KAAMJ,uBAAwB,2CAE5ED,YAAa,GAGVC"}
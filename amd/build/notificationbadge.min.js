define("local_evokegame/notificationbadge",["jquery","core/ajax","core/config","core/modal_factory","local_evokegame/sweetalert","local_evokegame/modal_notificationbadge"],(function($,Ajax,Config,ModalFactory,Swal,ModalNotificationBadge){var NotificationBadge=function(){this.checkIfHasNotification()};return NotificationBadge.prototype.checkIfHasNotification=function(){Ajax.call([{methodname:"local_evokegame_checknotificationbadge",args:{}}])[0].done(function(result){1==result.status&&ModalFactory.create({type:ModalNotificationBadge.TYPE,templateContext:{isachievement:result.isachievement,badgename:result.badgename,badgeimage:result.badgeimage,courseid:result.courseid,profileurl:Config.wwwroot+"/local/evokegame/profile.php?id="+result.courseid}}).then((function(modal){return modal.show()}))}.bind(this)).fail(function(error){var message=error.message;message||(message=error.error),this.showToast("error",message)}.bind(this))},NotificationBadge.prototype.showToast=function(type,message){Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:8e3,timerProgressBar:!0,onOpen:toast=>{toast.addEventListener("mouseenter",Swal.stopTimer),toast.addEventListener("mouseleave",Swal.resumeTimer)}}).fire({icon:type,title:message})},{init:function(){return new NotificationBadge}}}));

//# sourceMappingURL=notificationbadge.min.js.map
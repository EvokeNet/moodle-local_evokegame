<h2 class="mb-4">Course numbers</h2>

<div class="row">
    <div class="col-md-3">
        <div class="small-box bg-1">
            <div class="inner">
                <h3>{{{totalstudents}}}</h3>

                <p>{{#str}}game_report_coursestudents, local_evokegame{{/str}}</p>
            </div>
            <div class="icon">
                <i class="fa fa-users"></i>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="small-box bg-3">
            <div class="inner">
                <h3>{{{totalskillspoints}}}</h3>

                <p>{{#str}}game_report_coursesskillspoints, local_evokegame{{/str}}</p>
            </div>
            <div class="icon">
                <i class="fa fa-institution"></i>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="small-box bg-2">
            <div class="inner">
                <h3>{{{courseevocoins}}}</h3>

                <p>{{#str}}game_report_courseevocoins, local_evokegame{{/str}}</p>
            </div>
            <div class="icon">
                <i class="fa fa-money"></i>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="small-box bg-4">
            <div class="inner">
                <h3>{{{totaldistributedevocoins}}}</h3>

                <p>{{#str}}game_report_totaldeliveredvocoins, local_evokegame{{/str}}</p>
            </div>
            <div class="icon">
                <i class="fa fa-graduation-cap"></i>
            </div>
        </div>
    </div>
</div>

<h2 class="mt-4 mb-4">Course engagement statistics</h2>

<div class="row">
    <div class="col-md-4">
        <div class="card card-body">
            <div class="small-box bg-4">
                <div class="inner">
                    <h3>{{{totalportfolioentries}}}</h3>

                    <p>{{#str}}game_report_totalportfolioentries, local_evokegame{{/str}}</p>
                </div>
                <div class="icon">
                    <i class="fa fa-list"></i>
                </div>
            </div>

            {{{ chartentriesbychapter }}}
        </div>
    </div>
    <div class="col-md-4">
        <div class="card card-body">
            <div class="small-box bg-1">
                <div class="inner">
                    <h3>{{{totalportfoliolikes}}}</h3>

                    <p>{{#str}}game_report_totalportfoliolikes, local_evokegame{{/str}}</p>
                </div>
                <div class="icon">
                    <i class="fa fa-thumbs-up"></i>
                </div>
            </div>

            {{{ chartlikesbychapter }}}
        </div>
    </div>
    <div class="col-md-4">
        <div class="card card-body">
            <div class="small-box bg-3">
                <div class="inner">
                    <h3>{{{totalportfoliocomments}}}</h3>

                    <p>{{#str}}game_report_totalportfoliocomments, local_evokegame{{/str}}</p>
                </div>
                <div class="icon">
                    <i class="fa fa-comment-o"></i>
                </div>
            </div>

            {{{ chartcommentsbychapter }}}
        </div>
    </div>
</div>

<h2 class="mt-4 mb-4">{{#str}} game_report_courseskillstable, local_evokegame{{/str}}</h2>

<div class="row">
    <div class="col-md-6">
        <table class="table">
            <thead class="thead-dark">
            <tr>
                <th scope="col">#</th>
                <th scope="col">{{#str}} name {{/str}}</th>
                <th scope="col">{{#str}} game_report_skillspointsdistributed, local_evokegame {{/str}}</th>
            </tr>
            </thead>
            <tbody>
            {{#courseskills}}
                <tr>
                    <th scope="row">{{id}}</th>
                    <td>{{name}}</td>
                    <td>{{value}}</td>
                </tr>
            {{/courseskills}}
            </tbody>
        </table>
    </div>
    <div class="col-md-6">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Coins consumption</h4>
                <div class="progress mb-2">
                    <div class="progress-bar" role="progressbar" style="width: {{evocoinsdistributionprogress}}%;" aria-valuenow="{{evocoinsdistributionprogress}}" aria-valuemin="0" aria-valuemax="100">{{evocoinsdistributionprogress}}%</div>
                </div>

                <p>In this course, every student can receive a maximum of {{courseevocoins}} evocoins.</p>

                <p>In total, we can deliver {{totalpossiblecoins}} evocoins.</p>

                <p>At this moment, we already delivered {{totaldistributedevocoins}} evocoins.</p>
            </div>
        </div>
    </div>
</div>

<h2 class="mt-4 mb-4">{{#str}} game_report_studentsdetails, local_evokegame{{/str}}</h2>

<div class="table-responsive">
    <table class="table table-striped table-hover">
        <thead class="thead-dark">
            <tr>
                <th>{{#str}}name{{/str}}</th>
                <th>{{#str}}email{{/str}}</th>
                <th>{{#str}}groups{{/str}}</th>
                <th>{{#str}}skills{{/str}}</th>
                <th>{{#str}}badges{{/str}}</th>
                <th>{{#str}}activities{{/str}}</th>
            </tr>
        </thead>
        <tbody>
            {{#studentsreport}}
            <tr>
                <td>{{name}}</td>
                <td>{{email}}</td>
                <td>{{groups}}</td>
                <td>
                    {{#has_skills}}
                        {{#skills}}
                            <span class="badge badge-info mr-1 mb-1">{{name}} ({{points}})</span>
                        {{/skills}}
                    {{/has_skills}}
                    {{^has_skills}}
                        <span class="text-muted">-</span>
                    {{/has_skills}}
                </td>
                <td>
                    {{#has_badges}}
                        {{#badges}}
                            <span class="mr-1 mb-1 d-inline-block text-center">
                                <img src="{{{image}}}" alt="{{name}}" style="width: 28px; height: 28px; border-radius: 4px; border: 1px solid #ccc;">
                                <div style="font-size: 0.7rem;">{{name}}</div>
                            </span>
                        {{/badges}}
                    {{/has_badges}}
                    {{^has_badges}}
                        <span class="text-muted">-</span>
                    {{/has_badges}}
                </td>
                <td>
                    {{#has_activities}}
                        <ul class="mb-0 pl-3">
                            {{#activities}}
                                <li><a href="{{{url}}}">{{name}}</a></li>
                            {{/activities}}
                        </ul>
                    {{/has_activities}}
                    {{^has_activities}}
                        <span class="text-muted">-</span>
                    {{/has_activities}}
                </td>
            </tr>
            {{/studentsreport}}
            {{^studentsreport}}
            <tr>
                <td colspan="6" class="text-muted">{{#str}}no_students, local_evokegame{{/str}}</td>
            </tr>
            {{/studentsreport}}
        </tbody>
    </table>
</div>
